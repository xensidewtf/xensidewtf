<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xenside.is-a.dev</title>
    <style>
        :root {
            --bg-glass: rgba(255, 255, 255, 0.15);
            --border-glass: rgba(255, 255, 255, 0.4);
            --shadow-soft: 0 20px 40px rgba(0, 0, 0, 0.05);
            --text-main: #1d1d1f;
            --text-sub: #86868b;
            --accent: #007AFF;
        }

        body {
            margin: 0;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: #fbfbfd;
            color: var(--text-main);
        }

        canvas {
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 0;
        }

        #ui-layer {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: none;
        }

        .glass-card {
            pointer-events: auto;
            position: relative;
            width: 380px;
            border-radius: 32px;
            box-shadow: var(--shadow-soft), 0 0 0 1px var(--border-glass);
            opacity: 0;
            transform: scale(0.9);
            animation: intro 1s cubic-bezier(0.16, 1, 0.3, 1) forwards 0.2s;
            transition: transform 0.1s; /* Для плавного Tilt-эффекта */
            transform-style: preserve-3d;
        }

        .glass-bg, .glass-fx {
            position: absolute;
            inset: 0;
            border-radius: 32px;
            pointer-events: none;
        }

        .glass-bg {
            z-index: 1;
            background: var(--bg-glass);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
        }

        .glass-fx {
            z-index: 2;
            filter: url(#liquid-filter);
            mix-blend-mode: overlay;
            opacity: 0.5;
        }

        .glass-highlight {
            position: absolute;
            inset: 0;
            z-index: 3;
            border-radius: 32px;
            pointer-events: none;
            box-shadow: inset 0 1px 0 0 rgba(255,255,255,0.7);
            background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), rgba(255,255,255,0.2) 0%, transparent 50%);
        }

        .content {
            position: relative;
            z-index: 4;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 8px;
        }

        .avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e0e0e0, #ffffff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .info h1 {
            margin: 0;
            font-size: 20px;
            font-weight: 700;
            letter-spacing: -0.5px;
            cursor: default;
        }

        .info p {
            margin: 2px 0 0 0;
            font-size: 13px;
            color: var(--text-sub);
            font-weight: 500;
        }

        .badge {
            display: inline-block;
            margin-top: 4px;
            padding: 2px 8px;
            background: rgba(0, 122, 255, 0.1);
            color: var(--accent);
            border-radius: 12px;
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            cursor: default;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .tile {
            background: rgba(255, 255, 255, 0.4);
            border-radius: 20px;
            padding: 16px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-decoration: none;
            color: var(--text-main);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .tile:hover {
            background: rgba(255, 255, 255, 0.7);
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(0,0,0,0.04);
        }

        .tile.wide {
            grid-column: span 2;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
        }

        .label {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-sub);
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        .value {
            font-size: 15px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .project-link {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            font-weight: 600;
            color: #007AFF;
            margin-top: 4px;
            text-decoration: none;
        }

        .clock-display {
            font-size: 28px;
            font-weight: 800;
            font-variant-numeric: tabular-nums;
            letter-spacing: -1px;
        }

        .btn-main {
            background: linear-gradient(135deg, #007AFF, #0055ff);
            color: white;
            border: none;
            justify-content: center;
            align-items: center;
            gap: 8px;
        }
        .btn-main:hover {
            background: linear-gradient(135deg, #006ce6, #004ce6);
        }
        .btn-main .value { color: white; }

        svg { width: 18px; height: 18px; fill: currentColor; }

        @keyframes intro {
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body>

<div id="ui-layer">
    <svg style="width:0;height:0;position:absolute;">
        <filter id="liquid-filter">
            <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="3" result="warp"></feTurbulence>
            <feDisplacementMap xChannelSelector="R" yChannelSelector="G" scale="0" in="SourceGraphic" in2="warp"></feDisplacementMap>
        </filter>
    </svg>

    <div class="glass-card">
        <div class="glass-bg"></div>
        <div class="glass-fx"></div>
        <div class="glass-highlight"></div>
        
        <div class="content">
            <div class="header">
                <div class="avatar">
                    <svg viewBox="0 0 24 24" style="width:28px;height:28px;fill:#333;">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                    </svg>
                </div>
                <div class="info">
                    <h1 class="decrypt-hover">xenside.is-a.dev</h1>
                    <div class="badge decrypt-hover">DEV: TRUE</div>
                    <p>Python & Lua Developer</p>
                </div>
            </div>

            <div class="grid">
                <a href="https://t.me/dev_telethon" target="_blank" class="tile wide btn-main">
                    <div class="value decrypt-hover">
                        <svg viewBox="0 0 24 24" style="fill:#fff; margin-right:5px;"><path d="M9.78 18.65l.28-4.28 7.27-6.8c.38-.37-.08-.54-.6-.2l-9.1 5.9-4.1-1.3c-.9-.3-.91-.9.2-1.3l16.1-6.4c.7-.3 1.4.2 1.1 1.4l-2.9 14c-.2 1-.8 1.2-1.6.7l-4.4-3.4-2.1 2c-.2.3-.4.5-.8.5z"/></svg>
                        Contact @dev_telethon
                    </div>
                </a>

                <div class="tile">
                    <div class="label">Skills</div>
                    <div class="value decrypt-hover" style="font-family: monospace; font-size: 13px;">&lt;/&gt; Python, Lua</div>
                </div>

                <div class="tile">
                    <div class="label">Local Time</div>
                    <div class="clock-display" id="clock">00:00</div>
                </div>

                <div class="tile wide">
                    <div class="label">Projects</div>
                    <div style="display:flex; flex-direction:column; gap:6px;">
                        <a href="https://t.me/hysteriahost" target="_blank" class="project-link decrypt-hover">
                            <span>@hysteriahost</span>
                            <svg viewBox="0 0 24 24" style="width:14px;height:14px;opacity:0.5;"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>
                        </a>
                        <a href="https://t.me/xenmailbot" target="_blank" class="project-link decrypt-hover">
                            <span>@xenmailbot</span>
                            <svg viewBox="0 0 24 24" style="width:14px;height:14px;opacity:0.5;"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></svg>
                        </a>
                    </div>
                </div>

                <a href="mailto:xenside@xenside.is-a.dev" class="tile">
                    <div class="label">Email</div>
                    <div class="value decrypt-hover" style="font-size:12px">xenside@...</div>
                </a>

                <a href="https://t.me/reviews_xen" target="_blank" class="tile">
                    <div class="label">Reviews</div>
                    <div class="value decrypt-hover">@reviews_xen</div>
                </a>
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
    /* =========================================
       DECRYPTION EFFECT (LETTERS + SYMBOLS)
       ========================================= */
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;':\",./<>?";

    document.querySelectorAll('.decrypt-hover').forEach(element => {
        // Сохраняем оригинальный текст в data-value при загрузке
        // Если внутри есть SVG или дочерние элементы, берем только текст рекурсивно или упрощаем
        // Для кнопок с иконками лучше обернуть текст в <span> и вешать класс на него, но скрипт ниже пробует обработать всё.
        if (!element.dataset.value) {
            element.dataset.value = element.innerText.trim();
        }

        element.addEventListener('mouseover', event => {
            // Защита от частых наведений (сброс предыдущего интервала)
            if (element.interval) clearInterval(element.interval);

            const originalText = element.dataset.value;
            let iteration = 0;

            element.interval = setInterval(() => {
                // Если элемент содержит иконку (SVG), мы не хотим её стирать.
                // В данном случае мы просто меняем innerText, что убьет SVG.
                // Поэтому для сложных кнопок лучше использовать этот эффект на span внутри.
                // Ниже простая реализация, которая работает с текстовыми нодами.
                
                // Чтобы не ломать верстку с иконками, проверяем children
                if(element.children.length > 0) {
                   // Если внутри есть теги (svg), ищем текстовую ноду или span
                   // Для простоты в этом коде: эффект применяется к чистому тексту.
                   // Если сложная структура - пропускаем, чтобы не сломать SVG
                   const span = element.querySelector('span');
                   if(span) {
                       // Рекурсивный вызов или простая замена текста в спане
                       // Здесь упростим: просто выходим, если сложная структура,
                       // но в HTML выше я добавил классы так, чтобы они стояли на контейнерах.
                   }
                }

                element.innerText = originalText
                    .split("")
                    .map((letter, index) => {
                        if (index < iteration) {
                            return originalText[index];
                        }
                        return chars[Math.floor(Math.random() * chars.length)];
                    })
                    .join("");

                if (iteration >= originalText.length) { 
                    clearInterval(element.interval);
                }

                iteration += 1 / 2; // Скорость расшифровки
            }, 30);
        });
        
        // Восстановление при уходе мыши (опционально, если анимация не успела закончиться)
        element.addEventListener('mouseleave', () => {
             // Можно оставить доигрывать или мгновенно сбросить:
             // clearInterval(element.interval);
             // element.innerText = element.dataset.value;
        });
    });

    /* =========================================
       CLOCK & INTERACTION
       ========================================= */
    const updateClock = () => {
        const now = new Date();
        document.getElementById('clock').innerText = now.toLocaleTimeString('en-US', {hour12: false});
    };
    setInterval(updateClock, 1000);
    updateClock();

    const card = document.querySelector('.glass-card');
    const highlight = document.querySelector('.glass-highlight');
    const filter = document.querySelector('#liquid-filter feDisplacementMap');

    card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        // Highlight position
        highlight.style.setProperty('--x', `${x}px`);
        highlight.style.setProperty('--y', `${y}px`);

        // Liquid Distortion intensity
        const intensity = Math.min((Math.abs(x - rect.width/2) + Math.abs(y - rect.height/2)) / 5, 40);
        filter.setAttribute('scale', intensity);

        // 3D Tilt Effect
        const rotateX = ((y - rect.height / 2) / 20) * -1;
        const rotateY = (x - rect.width / 2) / 20;
        card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.02)`;
    });

    card.addEventListener('mouseleave', () => {
        filter.setAttribute('scale', '0');
        card.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)`;
    });

    /* =========================================
       THREE.JS BACKGROUND
       ========================================= */
    const renderer = new THREE.WebGLRenderer({ antialias: false, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0xf2f2f7, 1); 
    document.body.appendChild(renderer.domElement);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.set(0, 0, 65);

    const numLines = 3500;
    const steps = 60;
    const positions = [];
    
    for (let i = 0; i < numLines; i++) {
        const radius = 35 + Math.random() * 25; 
        const theta = Math.random() * Math.PI * 2;
        const phi = (Math.random() - 0.5) * Math.PI * 0.7; 

        let x = radius * Math.cos(theta) * Math.cos(phi);
        let y = radius * Math.sin(theta) * Math.cos(phi);
        let z = radius * Math.sin(phi) * 0.5; 

        let curl = (Math.random() > 0.5 ? 1 : -1) * (0.02 + Math.random() * 0.04);

        for (let j = 0; j < steps; j++) {
            positions.push(x, y, z);
            let d = Math.sqrt(x*x + y*y + z*z) || 0.1;
            let f = 1.8;
            
            let dx = -x / d * f;
            let dy = -y / d * f;
            let dz = -z / d * f;

            let rx = -y * curl;
            let ry = x * curl;
            
            let ns = 0.4;
            let nx = Math.sin(y * 0.3 + i) * ns;
            let ny = Math.cos(z * 0.3 + i) * ns;
            let nz = Math.sin(x * 0.3 + i) * ns;

            x += dx + rx + nx;
            y += dy + ry + ny;
            z += dz + nz;
            positions.push(x, y, z);
        }
    }

    const geometry = new THREE.BufferGeometry();
    geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
    const material = new THREE.LineBasicMaterial({ color: 0x111111, transparent: true, opacity: 0.3 });
    const mesh = new THREE.LineSegments(geometry, material);
    scene.add(mesh);

    const renderTarget = new THREE.WebGLRenderTarget(window.innerWidth, window.innerHeight);
    const postScene = new THREE.Scene();
    const postCamera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);

    const postMaterial = new THREE.ShaderMaterial({
        uniforms: {
            tDiffuse: { value: null },
            uTime: { value: 0 },
            uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) }
        },
        vertexShader: `varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); }`,
        fragmentShader: `
            uniform sampler2D tDiffuse;
            uniform float uTime;
            varying vec2 vUv;
            float rnd(vec2 s) { return fract(sin(dot(s.xy, vec2(12.9898,78.233))) * 43758.5453); }
            void main() {
                vec2 uv = vUv;
                float spl = step(0.98, fract(sin(uv.y * 100.0 + uTime * 8.0) * 43758.54));
                float sh = spl * (rnd(vec2(uTime)) - 0.5) * 0.03;
                float r = texture2D(tDiffuse, vec2(uv.x + sh + 0.003, uv.y)).r;
                float g = texture2D(tDiffuse, vec2(uv.x + sh, uv.y)).g;
                float b = texture2D(tDiffuse, vec2(uv.x + sh - 0.003, uv.y)).b;
                vec3 c = vec3(r, g, b);
                float gr = rnd(uv * uTime) * 0.12;
                c -= gr;
                gl_FragColor = vec4(c, 1.0);
            }
        `
    });

    const quad = new THREE.Mesh(new THREE.PlaneGeometry(2, 2), postMaterial);
    postScene.add(quad);

    function animate(t) {
        requestAnimationFrame(animate);
        const time = t * 0.001;
        mesh.rotation.z = time * 0.05;
        mesh.rotation.x = Math.sin(time * 0.1) * 0.15;
        
        renderer.setRenderTarget(renderTarget);
        renderer.render(scene, camera);
        
        postMaterial.uniforms.tDiffuse.value = renderTarget.texture;
        postMaterial.uniforms.uTime.value = time;
        
        renderer.setRenderTarget(null);
        renderer.render(postScene, postCamera);
    }
    
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderTarget.setSize(window.innerWidth, window.innerHeight);
        postMaterial.uniforms.uResolution.value.set(window.innerWidth, window.innerHeight);
    });
    
    animate(0);
</script>
</body>
</html>